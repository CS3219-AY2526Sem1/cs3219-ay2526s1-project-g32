# Copy to .env and fill in the values that apply to your stack.
# docker compose reads this file and injects the variables into every service.

# -----------------------------------------------------------------------------
# Shared secrets (used by multiple services)
# -----------------------------------------------------------------------------
SUPABASE_URL=
SUPABASE_ANON_KEY=
SUPABASE_SERVICE_ROLE_KEY=
SUPABASE_JWT_SECRET=

USER_SERVICE_INTERNAL_KEY=dev-internal-key
COLLABORATION_JWT_SECRET=dev-change-me

REDIS_URL=redis://redis:6379
RABBITMQ_URL=amqp://rabbitmq:5672

# -----------------------------------------------------------------------------
# User Service
# -----------------------------------------------------------------------------
USER_SERVICE_NODE_ENV=development
USER_SERVICE_PORT=4001
USER_SERVICE_CORS_ALLOWED_ORIGINS=http://localhost:3000

# -----------------------------------------------------------------------------
# Question Service
# -----------------------------------------------------------------------------
QUESTION_SERVICE_NODE_ENV=development
QUESTION_SERVICE_PORT=4003
QUESTION_SERVICE_CORS_ALLOWED_ORIGINS=http://localhost:3000
QUESTION_SERVICE_LOG_LEVEL=debug

# -----------------------------------------------------------------------------
# Matching Service
# -----------------------------------------------------------------------------
MATCHING_SERVICE_NODE_ENV=development
MATCHING_SERVICE_PORT=3002
MATCHING_USER_SERVICE_URL=http://user:4001
MATCHING_COLLABORATION_SERVICE_URL=http://collaboration:4010/api/v1/sessions

# -----------------------------------------------------------------------------
# Collaboration Service
# -----------------------------------------------------------------------------
COLLABORATION_SERVICE_NODE_ENV=development
COLLABORATION_SERVICE_PORT=4010
COLLABORATION_SERVICE_HOST=0.0.0.0
COLLAB_QUESTION_SERVICE_URL=http://question:4003/api/v1
COLLAB_USER_SERVICE_URL=http://user:4001/api/v1
COLLAB_WS_BASE_URL=ws://localhost:4010/collab
COLLABORATION_SESSION_TOKEN_TTL_SECONDS=300
COLLABORATION_SESSION_GRACE_PERIOD_SECONDS=300
COLLABORATION_SERVICE_LOG_LEVEL=debug

# -----------------------------------------------------------------------------
# Frontend (Next.js)
# -----------------------------------------------------------------------------
FRONTEND_PORT=3000
NEXT_PUBLIC_API_URL=http://user:4001
NEXT_PUBLIC_USER_SERVICE_URL=http://user:4001/api/v1
NEXT_PUBLIC_MATCHING_SERVICE_URL=http://matching:3002/api/v1/matching
NEXT_PUBLIC_QUESTION_SERVICE_URL=http://question:4003/api/v1/questions
NEXT_PUBLIC_COLLAB_SERVICE_URL=http://collaboration:4010/api/v1
NEXT_PUBLIC_COLLAB_WS_URL=ws://collaboration:4010/collab
NEXT_PUBLIC_VERIFY_REDIRECT=http://localhost:3000/verify-success
NEXT_PUBLIC_APP_URL=http://localhost:3000
